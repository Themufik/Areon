{% extends 'main/base.html' %}

{% block title %}{% if course %}–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –∫—É—Ä—Å{% else %}–°–æ–∑–¥–∞—Ç—å –∫—É—Ä—Å{% endif %}{% endblock %}

{% block extra_css %}
<style>
    .form-container {
        max-width: 800px;
        margin: 0 auto;
        background: white;
        padding: 2rem;
        border-radius: 10px;
        box-shadow: 0 2px 10px rgba(0,0,0,0.1);
    }
    
    .form-container h1 {
        margin-bottom: 2rem;
        color: #2c3e50;
    }
    
    .form-group {
        margin-bottom: 1.5rem;
    }
    
    .form-group label {
        display: block;
        margin-bottom: 0.5rem;
        font-weight: bold;
        color: #333;
    }
    
    .form-group input,
    .form-group select,
    .form-group textarea {
        width: 100%;
        padding: 0.8rem;
        border: 1px solid #ddd;
        border-radius: 5px;
        font-size: 1rem;
        font-family: inherit;
    }
    
    .form-group textarea {
        min-height: 150px;
        resize: vertical;
    }
    
    .form-actions {
        display: flex;
        gap: 1rem;
        margin-top: 2rem;
    }
</style>
{% endblock %}

{% block content %}
<div class="form-container">
    <h1>{% if course %}‚úèÔ∏è –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –∫—É—Ä—Å{% else %}‚ûï –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π –∫—É—Ä—Å{% endif %}</h1>
    
    <form method="POST">
        {% csrf_token %}
        
        <div class="form-group">
            <label for="name">–ù–∞–∑–≤–∞–Ω–∏–µ –∫—É—Ä—Å–∞ *</label>
            <input 
                type="text" 
                id="name" 
                name="name" 
                value="{% if course %}{{ course.name }}{% endif %}"
                required
                maxlength="200"
                placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –û—Å–Ω–æ–≤—ã –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è –Ω–∞ Python"
            >
        </div>
        
        <div class="form-group">
            <label for="category">–ö–∞—Ç–µ–≥–æ—Ä–∏—è *</label>
            <select id="category" name="category" required>
                <option value="">–í—ã–±–µ—Ä–∏—Ç–µ –∫–∞—Ç–µ–≥–æ—Ä–∏—é</option>
                {% for cat in categories %}
                    <option value="{{ cat.id }}" 
                        {% if course and course.category.id == cat.id %}selected{% endif %}>
                        {{ cat.name }}
                    </option>
                {% endfor %}
            </select>
        </div>
        
        <div class="form-group">
            <label for="description">–û–ø–∏—Å–∞–Ω–∏–µ –∫—É—Ä—Å–∞ *</label>
            <textarea 
                id="description" 
                name="description" 
                required
                placeholder="–û–ø–∏—à–∏—Ç–µ, —á–µ–º—É –Ω–∞—É—á–∞—Ç—Å—è —Å—Ç—É–¥–µ–Ω—Ç—ã –≤ —ç—Ç–æ–º –∫—É—Ä—Å–µ..."
            >{% if course %}{{ course.description }}{% endif %}</textarea>
        </div>
        
        <div class="form-actions">
            <button type="submit" class="btn btn-success">
                {% if course %}üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è{% else %}‚úÖ –°–æ–∑–¥–∞—Ç—å –∫—É—Ä—Å{% endif %}
            </button>
            <a href="{% if course %}{% url 'course_detail' course.id %}{% else %}{% url 'course_list' %}{% endif %}" 
               class="btn">
                ‚ùå –û—Ç–º–µ–Ω–∞
            </a>
        </div>
    </form>
</div>
{% endblock %}